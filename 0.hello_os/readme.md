# HelloOs
## 操作系统的介绍
+ 操作系统是运行在计算机硬件上的第一层软件，它向下对磁盘，内存，cpu，外设等资源进行管理，把磁盘抽象成文件，把物理内存抽象成虚拟内存，把cpu抽象成进程，把tcp/ip网络协议栈封装成socket接口（POSIX标准），向上提供简单的api供应用程序去使用计算机提供的能力
## 操作系统的启动
+ 磁盘分为多个分区，第0号扇区称之为MBR(master bootstrap record)，主引导记录。主引导记录上会记录其他磁盘分区的所有信息，以及用于引导操作系统启动文件的引导程序。
+ 当计算机上电时，刻录在rom中的bios程序首先被启动，当检查完计算机的内存，硬件，cpu和主板信息正常无误后，bios加载mbr到内存中，并启动引导程序。从剩余磁盘分区中加载各个操作系统的引导文件（一般是二进制文件）。
+ 这也就是我们装了双系统，三系统的计算机时在启动电脑的时候一般会有一个引导页面可以选择安装在不同扇区上的操作系统的原因，是mbr上的引导程序发挥了作用
+ 当选择引导对应操作系统的boot文件时，该文件被加载到内存中并开始执行，操作系统启动并且再完成必要资源的初始化后开始正常运行，对于包含gui程序的os（windos等）开始渲染开机页面
## 如何运行一个自己写的操作系统
+ 首先，使用wmware虚拟机软件安装ubuntu系统，ubuntu系统将会在mbr中内置名为grub的引导程序
+ 将本demo中的代码在虚拟机中编译，链接，二进制拷贝，最终得到一个可以由cpu直接识别并执行的二进制指令序列（存储在HelloOs.bin文件中，启动时会被grub加载到内存中）
+ 在ubuntu中配置grub的发现HelloOs.bin的配置文件
+ 重新启动ubuntu，在进入ubuntu系统的登录界面之前狂按shift，此时会出现一个列表，包含有所有可供引导的操作系统列表，其中会包含HelloOs的选项
+ 选择HelloOs，引导程序开始加载该boost文件到内存中，cpu开始执行指令序列，在显卡上输出hello world后死机
+ ps：死机是正常现象，操作系统程序也是由一个死循环保持持久服务，编译链接成为HelloOs.bin的main.c源文件中，main函数往显卡输出hello world之后就退出了，因此操作系统程序执行完毕，计算机回到裸机状态，表现为死机，只能关机重启
## 第一课中学习的知识点总结